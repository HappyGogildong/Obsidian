작은 더미 COCO-유사 데이터셋을 자동으로 생성하는 스크립트와 그에 맞는 config_dummy.yaml을 추가해서, CPU에서도 1에폭 정도 빠르게 학습이 도는 테스트 경로를 만들겠습니다. 이후 python scripts/make_dummy_dataset.py → python run_train.py --config config_dummy.yaml 순서로 쓰면 됩니다.



작은 더미 데이터셋을 생성해서 학습 파이프라인이 정상 동작하는지 빠르게 테스트하기 위한 스크립트입니다.

아주 작은 더미 데이터로 학습이 도는 경로를 만들어 두었습니다.

### 1. 더미 데이터셋 생성 스크립트

- 파일: scripts/make_dummy_dataset.py

- 역할:

- dummy_data/ 아래에 224×224 컬러 이미지 몇 개(images/img_000.jpg 등) 생성

- 각 이미지에 대해 2개의 캡션이 들어 있는 train.jsonl, val.jsonl 생성

- 실행 방법:

`python scripts/make_dummy_dataset.py`

실행 후에는 dummy_data/ 구조가 다음처럼 생깁니다.

dummy_data/
ㄴimages/
  ㄴimg_000.jpg
  ㄴ...
ㄴtrain.jsonl
ㄴval.jsonl

### 2. 더미 학습용 설정 파일

- 파일: config_dummy.yaml

- 특징:

- data.mode: jsonl로 설정 → 방금 만든 dummy_data/train.jsonl, val.jsonl 사용

- device: cpu, epochs: 1, batch_size: 4 → CPU에서도 빠르게 한 번 도는 테스트

- distill.use_teacher: false → 무거운 Teacher 모델 다운로드/로딩 없이 학생만 학습

- AMP, EMA, torch.compile 비활성화로 경로 단순화

### 3. 전체 테스트 절차

1. 더미 데이터 생성:

`python scripts/make_dummy_dataset.py`

1. 더미 설정으로 학습 테스트:

`python run_train.py --config config_dummy.yaml`

이렇게 하면 작은 더미 데이터셋으로 전 학습 루프(손실 계산, 역전파, 스케줄러, 체크포인트 저장, 평가) 가 실제로 한 번쯤 도는지 빠르게 검증할 수 있습니다.